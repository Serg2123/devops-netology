1.  Linux:  
ip -c a  
ifconfig  
Windows:  
ipconfig /all  
  
2. протокол lldp, после инсталляции пакета lldpd и запуска службы след командами:  
lldpctl  
lldpcli show neighbors  
  
3. VLAN, пакет vlan.  
добавить VLAN можно так:  
sudo ip link add link eth1 name eth1.10 type vlan id 10  # создали новый вирт.интерфейс  
sudo ip addr add 10.10.0.1/24 dev eth1.10 # привязали к нему адрес  
sudo ip link set up eth1.10 # включили интерфейс  
ip -c a # убедились что все работает  
в ubuntu сейтью сейчас заправляет новая утилита netplan, соотвественно конфиг под для vlan примерно следующий:   
создаем файл /etc/netplan/02-vlan.yaml (или добавляем в текущий yaml файл в котором описаны все интерфейсы)  
```
network:  
    version: 2  
    vlans:  
    vlan20:  
      id: 20  
      link: bond0  
      dhcp4: no  
      addresses: [10.20.0.2/24]  
      gateway: 10.20.0.1  
      routes:  
        - to: 10.20.0.2/24  
          via: 10.20.0.1  
          on-link: true  
```
после чего для применения настроек:  
sudo netplan --debug generate  # c дебуг что бы отловить возможные ошибки конфига  
sudo netplan --debug apply # так же с дебуг что бы отловить возможные ошибки  
  
4. основной механизм агрегации портов - боундинг. Внутри боундиг бывает разных типов:  
mode=0 (balance-rr) - последовательно кидает пакеты, с первого по последний интерфейс;  
mode=1 (active-backup) - один из интерфейсов активен, если активный интерфейс выходит из строя (link down и т.д.), другой интерфейс заменяет активный. Не требует дополнительной настройки коммутатора;  
mode=2 (balance-xor) - передача распределяются между интерфейсами на основе формулы ((MAC-адрес источника) XOR (MAC-адрес получателя)) % число интерфейсов. Один и тот же интерфейс работает с определённым получателем. Режим даёт балансировку нагрузки и отказоустойчивость;  
mode=3 (broadcast) - все пакеты отсылаются на все интерфейсы;  
mode=4 (802.3ad) - Link Agregation — IEEE 802.3ad, требует от коммутатора настройки;  
mode=5 (balance-tlb) - входящие пакеты принимаются только активным сетевым интерфейсом, исходящий распределяется в зависимости от текущей загрузки каждого интерфейса. Не требует настройки коммутатора;  
mode=6 (balance-alb) - тоже самое что 5, только входящий трафик тоже распределяется между интерфейсами. Не требует настройки коммутатора, но интерфейсы должны уметь изменять MAC.  
Различные виды балансировки представлены в режимах 0 (по умолчанию), 2, 5, 6.  
по аналогичной схеме конфиг для netplan:  
```
network:  
    version: 2  
    renderer: networkd  
    bonds:  
        bond0:  
            dhcp4: yes  
            interfaces:  
                - eth0  
                - eth1  
            parameters:  
                mode: active-backup  
                primary: eth0  
```
5.  5.1 - 7 адресов, задействовать можно 5 (минус шлюз и броадкаст) или 6 если шлюз не нужен;  
    5.2 - 32 сети;  
    5.3 - 10.10.10.80/29, 10.10.10.200/29.  
  
6.  100.64.0.0/29, но на самом деле что бы объединить 2 сети достаточно самой малой стыковочной сети /30.  
  
7. windows: arp -a  
   Linux:   arp -e или arp -n  
   arp сам по себе не умеет полностью чистить кеш арп таблицы, соответственно либо обходными путями чистить либо писать скриптик который будет в цикле чистить арп таблицу по одной записи.  
   Очистить кеш полностью и глобально для конкретного интерфейса можно так:  
   sudo ip link set arp off dev eth0; sudo ip link set arp on dev eth0  
   или так:  sudo ip -s -s neigh flush all  
   Удаление только одного ненужного IP в arp таблице:  
   sudo arp -d IP (в линуксе)  
